<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Orders - Admin</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;padding:16px}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid #ddd;padding:8px}
  </style>
</head>
<body>
  <h1>Orders</h1>
  <div id="orders-list">Loading...</div>
  <script>
    fetch('/orders').then(r=>r.json()).then(orders=>{
      if(!orders||orders.length===0){document.getElementById('orders-list').textContent='No orders yet.';return}
      let html = '<table><thead><tr><th>ID</th><th>Created</th><th>Items</th><th>Total</th></tr></thead><tbody>';
      orders.slice().reverse().forEach(o=>{
        html += `<tr><td>${o.id}</td><td>${o.createdAt}</td><td>${o.items.map(i=>`${i.name} x${i.quantity} (₹${i.price})`).join('<br>')}</td><td>₹${o.total.toFixed(2)}</td></tr>`;
      });
      html += '</tbody></table>';
      document.getElementById('orders-list').innerHTML = html;
    }).catch(err=>{document.getElementById('orders-list').textContent='Failed to load orders';console.error(err)})
  </script>
</body>
</html>